name: Google Chat Notify
on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - id: 'notify google chat'
        if: ${{ inputs.fail_intentionally }}
        uses: 'google-github-actions/send-google-chat-webhook@v0.0.2'
        with:
          webhook_url: '${{ secrets.GOOGLE_CHAT_WEBHOOK }}'
          mention: "<all>"
      # - name: Notify Google Chat
      #   if: ${{ always() }} # Use always to ensure that the notification is also send on failure of former steps
      #   uses: SimonScholz/google-chat-action@main
      #   with:
      #     webhookUrl: '${{ secrets.GOOGLE_CHAT_WEBHOOK }}'
